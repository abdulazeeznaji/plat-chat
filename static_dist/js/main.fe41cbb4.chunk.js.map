{"version":3,"sources":["serviceWorker.js","components/LoginForm.js","components/Header.js","App.js","components/SinglePost.js","components/Posts.js","components/CreatePost.js","components/Feed.js","utils/requireAuthentication.js","routes.js","index.js"],"names":["Boolean","window","location","hostname","match","LoginForm","state","email","password","handle_change","event","setState","target","name","value","handle_login","e","data","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","localStorage","setItem","token","logged_in","username","Paper","style","alignText","padding","TextField","type","label","this","onChange","fullWidth","Button","color","marginLeft","marginRight","display","onClick","React","Component","useStyles","makeStyles","theme","root","flexGrow","menuButton","spacing","title","Header","props","classes","className","AppBar","position","Toolbar","IconButton","edge","aria-label","Typography","variant","handle_logout","history","push","App","removeItem","posts","getItem","children","Panel","styled","div","Delete","DeleteIcon","SinglePost","open","post","deletePost","Grid","container","margin","item","xs","sm","md","fontSize","nativeColor","red","id","Posts","Card","square","CreatePost","handleChange","handleSubmit","obj","user","displayed_form","onSubmit","form","encType","FormControl","formControl","InputLabel","htmlFor","Input","autoComplete","disabled","button","withStyles","width","paddingTop","Feed","posts_id","Authorization","updatePosts","feed","renderPosts","map","loadingFeed","finally","maxWidth","length","top","indigo","requireAuthentication","checkAuth","nextProps","redirectAfterLogin","pathname","routes","browserHistory","path","component","Login","sessionStorage","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.fe41cbb4.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\n\n\nclass LoginForm extends React.Component {\n    state = {\n        email: '',\n        password: ''\n    };\n\n    handle_change = (event) => {\n        this.setState({ [event.target.name]: event.target.value })\n    };\n\n    handle_login = (e, data) => {\n        e.preventDefault();\n        fetch('http://localhost:8000/token-auth/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n            .then(res => res.json())\n            .then(json => {\n                localStorage.setItem('token', json.token);\n                this.setState({\n                    logged_in: true,\n                    username: json.token\n                });\n            });\n    };\n\n    render() {\n        return (\n            <Paper style={{alignText: 'center', padding:'2em'}}>\n                <TextField\n                    type=\"text\"\n                    label=\"email\"\n                    name=\"email\"\n                    value={this.state.email}\n                    onChange={this.handle_change}\n                    fullWidth={true}/>\n                <br/>\n                <TextField\n                    type=\"password\"\n                    label=\"password\"\n                    name=\"password\"\n                    value={this.state.password}\n                    onChange={this.handle_change}\n                    fullWidth={true} />\n                <br/>\n                <div>\n                    <Button color=\"primary\" style={{marginLeft: 'auto',marginRight: 'auto', display: 'block'}} onClick={e => this.handle_login(e, this.state)}>\n                        Login\n                    </Button>\n                </div>\n            </Paper>\n\n        );\n    }\n}\n\nexport default LoginForm;","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { browserHistory as history } from 'react-router';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\n\nexport default function Header(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Plat-Chat\n                    </Typography>\n                    {props.logged_in ?\n                        <Button onClick={props.handle_logout} color=\"inherit\">Logout</Button>\n                        :  <div>\n                            <Button onClick={()=>{history.push('/login')}} color=\"inherit\">Login</Button>\n                            <Button onClick={()=>{history.push('/signup')}} color=\"inherit\">Signup</Button>\n                        </div>\n\n                    }\n                </Toolbar>\n            </AppBar>\n\n        </div>\n    );\n}\n","import React, {Component, Fragment} from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport { browserHistory as history } from 'react-router';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            posts:[],\n            logged_in: localStorage.getItem('token') ? true : false,\n\n        };\n    }\n\n    handle_logout = () => {\n        localStorage.removeItem('token');\n        this.setState({ logged_in: false, username: '' });\n        history.push('/login');\n    };\n\n\n    // Render method\n    render() {\n        return (\n            <div className=\"App\">\n                <Header           logged_in={this.state.logged_in}\n                                  handle_logout={this.handle_logout}\n                />\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React, {Component, Fragment} from 'react';\nimport styled from 'styled-components';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport red from '@material-ui/core/colors/red';\n\n\n\n\nconst Panel = styled.div`\n\tmargin: 5px;\n`;\n\n\nconst Delete = styled(DeleteIcon)`\n\tposition: relative;\n\tcursor: pointer;\n\tright: 15px;\n\ttop: 9px;\n\tfloat:right;\n`;\n\nclass SinglePost extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {open: false}\n\t}\n\trender() {\n\t\tconst { post, deletePost } = this.props;\n\t\treturn(\n\t\t\t<Panel>\n\t\t\t\t<Grid container style={{margin: 10}}>\n\t\t\t\t\t<Grid item xs={10} sm={10} md={10}>\n\t\t\t\t\t\t<Typography style={{fontSize: 18}}>{post.body}</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={2} sm={2} md={2}>\n\t\t\t\t\t\t<Delete nativeColor={red[600]} onClick={() => deletePost(post.id)}/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Panel>\n\t\t);\n\t}\n}\n\nexport default SinglePost;","import React  from 'react';\nimport SinglePost from './SinglePost';\nimport Card from '@material-ui/core/Card';\n\nconst Posts = ({ post, deletePost }) => (\n\t<Card style={{ margin: '25px 0'}} square>\n\t\t<SinglePost post={post} deletePost={deletePost} />\n\t</Card>\n);\n\nexport default Posts;","import React, {Component} from 'react';\nimport { withStyles } from '@material-ui/core/styles/';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Button from '@material-ui/core/Button';\n\nconst style = {\n\tform: {\n\t\twidth: '100%',\n\t\tmargin: '0 auto',\n\t\tdisplay: 'flex',\n\t\tpaddingTop: 20,\n\t},\n\tformControl : {\n\t\tmargin: '0 auto',\n\t\twidth: 500,\n\t},\n\tbutton: {\n\t\twidth: 200,\n\t\tmargin: '10px 0',\n\t}\n};\n\nclass CreatePost extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {post: ''};\n\t}\n\n\thandleChange = event => {\n\t\tthis.setState({post: event.target.value})\n\t};\n\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tlet obj = {\n\t\t\tbody: this.state.post,\n\t\t\tuser:1\n\t\t};\n\t\tfetch('http://localhost:8000/posts/', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(obj)\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => {\n\t\t\t\tlocalStorage.setItem('token', json.token);\n\t\t\t\tthis.setState({\n\t\t\t\t\tlogged_in: true,\n\t\t\t\t\tdisplayed_form: '',\n\t\t\t\t\tusername: json.username\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\treturn (\n\t\t\t<form onSubmit={this.handleSubmit} className={classes.form} encType=\"multipart/form-data\">\n\t\t\t\t<FormControl className={classes.formControl}>\n\t\t\t\t\t<InputLabel htmlFor=\"new_post\">What's on your mind?</InputLabel>\n\t\t\t\t\t<Input type=\"text\" autoComplete=\"off\" id=\"text\" name=\"text\" value={this.state.post} onChange={this.handleChange}/>\n\t\t\t\t\t<Button type=\"submit\" disabled={!this.state.post} variant=\"outlined\" className={classes.button}>Create Post</Button>\n\t\t\t\t</FormControl>\n\t\t\t</form>\n\t\t);\n\t}\n\n}\n\nexport default withStyles(style)(CreatePost);","import React, { Component } from 'react';\nimport Posts from './Posts';\nimport CreatePost from './CreatePost';\nimport Typography from '@material-ui/core/Typography';\nimport Error from '@material-ui/icons/Error';\nimport indigo from '@material-ui/core/colors/indigo';\n\nclass Feed extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { posts: [], loadingFeed: true };\n    }\n\n    componentDidMount() {\n        fetch('http://localhost:8000/posts/', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `JWT ${localStorage.getItem('token')}`\n\n            },\n            body: JSON.stringify()\n        })\n            .then(res => res.json())\n            .then(json => {\n                this.setState({\n                    posts:json\n                });\n            })\t\t\t.finally(() => this.setState({ loadingFeed: false }));\n\n    }\n\n    deletePost = (posts_id) => {\n        fetch('http://localhost:8000/posts/' + posts_id, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `JWT ${localStorage.getItem('token')}`\n\n            },\n        })\n            .then(res => res.json())\n            .then(json => {\n                // Render successful deleting message\n            })\n    };\n\n    updatePosts = (feed) => {\n        this.setState({ feed });\n    };\n\n    renderPosts = (posts) => posts.map(post => <Posts post={post} deletePost={this.deletePost}  />);\n\n\n    render() {\n        return (\n            <div style={{ padding: 10 }}>\n                <CreatePost updatePosts={this.updatePosts}/>\n                <div style={{ maxWidth: '500px', margin: '0 auto', paddingTop: '20px'}}>\n                    {this.state.loadingFeed\n                        ? <Typography variant=\"headline\">Loading posts...</Typography>\n                        : this.state.posts.length\n                            ? this.renderPosts(this.state.posts)\n                            : <Typography variant=\"headline\">\n                                <Error style={{ position: 'relative', top: '3px' }} nativeColor={indigo[500]}/>\n                                &nbsp;&nbsp;No Posts Yet.\n                            </Typography>}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Feed;","import React from 'react';\nimport { browserHistory as history } from 'react-router';\n\nexport default function requireAuthentication(Component) {\n  class AuthenticatedComponent extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = {\n            logged_in: localStorage.getItem('token') ? true : false,\n\n      }\n    }\n\n    componentWillMount() {\n      this.checkAuth();\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.checkAuth();\n    }\n\n    checkAuth() {\n      if (!this.state.logged_in) {\n        const redirectAfterLogin = this.props.location.pathname;\n        history.push(`/login?next=${redirectAfterLogin}`);\n      }\n    }\n\n    render() {\n      return (\n        <div>\n          {true === true\n            ? <Component {...this.props}/>\n            : null\n          }\n        </div>\n      );\n    }\n  }\n    return (AuthenticatedComponent);\n}","import React from 'react';\nimport { Router, Route, IndexRoute, browserHistory } from 'react-router';\nimport Login from './components/LoginForm';\nimport App from './App';\nimport Feed from './components/Feed';\nimport requireAuthentication from './utils/requireAuthentication';\n\n\nconst routes = (\n    <Router history={browserHistory}>\n        <Route path=\"/\" component={requireAuthentication(App)}>\n            <IndexRoute component={requireAuthentication(Feed)}/>\n        </Route>\n        <Route path=\"login\" component={Login}/>\n\n    </Router>\n);\n\nexport default routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport routes from './routes';\n\nconst token = sessionStorage.getItem('token');\nif (token !== null) {\n    // store.dispatch(authLoginUserSuccess(token));\n}\n\nReactDOM.render(\n  <React.StrictMode>\n      {routes}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}