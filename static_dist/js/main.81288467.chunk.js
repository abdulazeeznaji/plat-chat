(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{144:function(e,t,n){e.exports=n(208)},149:function(e,t,n){},161:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),i=n.n(r);n(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(14),c=n(33),s=n(15),u=n(16),m=n(18),d=n(17),h=n(256),p=n(248),f=n(132),g=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handle_change=function(t){e.setState(Object(c.a)({},t.target.name,t.target.value))},e.handle_login=function(t,n){t.preventDefault(),fetch(" http://127.0.0.1:8000/token-auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){localStorage.setItem("token",t.token),e.setState({logged_in:!0,username:t.token}),l.d.push("/")}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement(f.a,{style:{alignText:"center",padding:"2em"}},o.a.createElement(h.a,{type:"text",label:"email",name:"email",value:this.state.email,onChange:this.handle_change,fullWidth:!0}),o.a.createElement("br",null),o.a.createElement(h.a,{type:"password",label:"password",name:"password",value:this.state.password,onChange:this.handle_change,fullWidth:!0}),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(p.a,{color:"primary",style:{marginLeft:"auto",marginRight:"auto",display:"block"},onClick:function(t){return e.handle_login(t,e.state)}},"Login")))}}]),n}(o.a.Component),E=(n(161),n(98)),b=n(249),v=n(13),y=n(250),k=n(251),C=n(252),j=n(209),O=n(211),S=n(258),x=n(131),w=n(95),_=n.n(w),P=n(121),T=n.n(P),N=n(122),D=n.n(N),I=n(123),A=n.n(I),W=Object(b.a)((function(e){return{toot:{flexGrow:1},grow:{flexGrow:1},titlee:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(c.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(c.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(c.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(c.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function L(e){var t=W(),n=o.a.useState(null),a=Object(E.a)(n,2),r=a[0],i=a[1],c=o.a.useState(null),s=Object(E.a)(c,2),u=s[0],m=s[1],d=Boolean(r),h=(Boolean(u),function(){i(null),m(null)}),f="primary-search-account-menu",g=o.a.createElement(x.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:f,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:h},o.a.createElement(S.a,{onClick:h},"Profile"),o.a.createElement(S.a,{onClick:h},"Profile"),o.a.createElement(S.a,{onClick:e.handle_logout},"Logout"));return o.a.createElement("div",{className:t.grow},e.logged_in?o.a.createElement(y.a,{position:"static"},o.a.createElement(k.a,null,o.a.createElement(C.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer"},o.a.createElement(_.a,null)),o.a.createElement("div",{className:t.search},o.a.createElement("div",{className:t.searchIcon},o.a.createElement(T.a,null)),o.a.createElement(O.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})),o.a.createElement("div",{className:t.grow}),o.a.createElement("div",{className:t.sectionDesktop},o.a.createElement(C.a,{edge:"end","aria-label":"account of current user","aria-controls":f,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},o.a.createElement(D.a,null))),o.a.createElement("div",{className:t.sectionMobile},o.a.createElement(C.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},o.a.createElement(A.a,null))))):o.a.createElement("div",{className:t.toot},o.a.createElement(y.a,{position:"static"},o.a.createElement(k.a,null,o.a.createElement(C.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},o.a.createElement(_.a,null)),o.a.createElement(j.a,{variant:"h6",className:t.titlee}),o.a.createElement(p.a,{onClick:function(){l.d.push("/login")},color:"inherit"},"Login"),o.a.createElement(p.a,{onClick:function(){l.d.push("/signup")},color:"inherit"},"Signup")))),g)}var B=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handle_logout=function(){localStorage.removeItem("token"),a.setState({logged_in:!1,username:""}),l.d.push("/")},a.state={posts:[],logged_in:!!localStorage.getItem("token")},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(L,{logged_in:this.state.logged_in,handle_logout:this.handle_logout}),this.props.children)}}]),n}(a.Component),R=n(38),F=n(39),J=n(253),M=n(126),z=n.n(M),G=n(74),q=n.n(G);function V(){var e=Object(R.a)(["\n\tposition: relative;\n\tcursor: pointer;\n\tright: 15px;\n\ttop: 9px;\n\tfloat:right;\n"]);return V=function(){return e},e}function Y(){var e=Object(R.a)(["\n\tmargin: 5px;\n"]);return Y=function(){return e},e}var $=F.a.div(Y()),H=Object(F.a)(z.a)(V()),K=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={open:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.deletePost;return o.a.createElement($,null,o.a.createElement(J.a,{container:!0,style:{margin:10}},o.a.createElement(J.a,{item:!0,xs:10,sm:10,md:10},o.a.createElement(j.a,{style:{fontSize:18}},t.body)),o.a.createElement(J.a,{item:!0,xs:2,sm:2,md:2},o.a.createElement(H,{nativeColor:q.a[600],onClick:function(){return n(t.id)}}))))}}]),n}(a.Component),Q=n(255),U=n(128),X=n.n(U),Z=n(127),ee=n.n(Z),te=n(254);function ne(){var e=Object(R.a)(["\n\twidth: 95%;\n\tpadding: 8px 15px 5px 15px;\n\tflex: 1;\n"]);return ne=function(){return e},e}function ae(){var e=Object(R.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 10px 0;\n\tmargin: 10px 0;\n\tbackground-color: #f6f6f6;\n\tborder-radius: 5px;\n"]);return ae=function(){return e},e}function oe(){var e=Object(R.a)(["\n\tmargin: 5px;\n"]);return oe=function(){return e},e}var re=F.a.div(oe()),ie=F.a.div(ae()),le=Object(F.a)(j.a)(ne()),ce=function(e){var t=e.comment,n=(e.open,e.anchorEl,e.handleClick,e.handleClose,e.handleDelete),a=e.handleEdit;return o.a.createElement(ie,null,o.a.createElement(le,null,t.body,o.a.createElement("span",{style:{float:"right",fontSize:10,color:"#A9A9A9"}})),o.a.createElement(j.a,{style:{padding:10,cursor:"pointer",display:"inline-block"},onClick:function(){return a(t)}},"Edit"),o.a.createElement(j.a,{style:{padding:10,color:q.a[500],cursor:"pointer",display:"inline-block"},onClick:function(){return n(t.id)}},"Delete"))},se=function(e){return e.comments.map((function(t){return o.a.createElement(ce,{key:t.id,comment:t,open:e.open,anchorEl:e.anchorEl,handleClick:e.handleClick,handleClose:e.handleClose,handleDelete:e.handleDelete,handleEdit:e.handleEdit})}))},ue=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.onSubmit=function(e){e.preventDefault(),a.state.comment&&a.state.comment_id},a.handleChange=function(e){a.setState({comment:e.target.value})},a.handleEdit=function(e){a.setState({comment:e.text,comment_id:e.id})},a.handleDelete=function(e){},a.resetTextField=function(){a.setState({comment:"",comment_id:null})},a.state={anchorEl:null,comment:"",comment_id:null,comments:e.comments,post_id:e.post_id},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.anchorEl,t=Boolean(e);return o.a.createElement(re,null,o.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit},o.a.createElement(h.a,{id:"comment".concat(this.state.post_id),name:"comment",fullWidth:!0,placeholder:"Comment here",margin:"normal",value:this.state.comment,onChange:this.handleChange,InputProps:{endAdornment:o.a.createElement(a.Fragment,null,o.a.createElement(te.a,{position:"end"},o.a.createElement(C.a,{onClick:this.onSubmit,title:"Save"},o.a.createElement(ee.a,null))),o.a.createElement(te.a,{position:"end"},o.a.createElement(C.a,{onClick:this.resetTextField,title:"Clear"},o.a.createElement(X.a,null))))}})),this.state.comments&&this.state.comments.length>0&&o.a.createElement(se,{comments:this.state.comments,open:t,anchorEl:this.state.anchorEl,handleClick:this.handleClick,handleClose:this.handleClose,handleDelete:this.handleDelete,handleEdit:this.handleEdit}))}}]),n}(a.Component),me=function(e){var t=e.post,n=e.deletePost;return console.log(t),o.a.createElement(Q.a,{style:{margin:"25px 0"},square:!0},o.a.createElement(K,{post:t,deletePost:n}),o.a.createElement(ue,{post_id:t.id,comments:t.comments}))},de=n(5),he=n(247),pe=n(246),fe=n(257),ge=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState({post:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t={body:a.state.post,user:1};fetch("http://127.0.0.1:8000/posts/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a.setState({post:""}),a.props.updatePosts(e)}))},a.state={post:""},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("form",{onSubmit:this.handleSubmit,className:e.form,encType:"multipart/form-data"},o.a.createElement(he.a,{className:e.formControl},o.a.createElement(fe.a,{htmlFor:"new_post"},"What's on your mind?"),o.a.createElement(pe.a,{type:"text",autoComplete:"off",id:"text",name:"text",value:this.state.post,onChange:this.handleChange}),o.a.createElement(p.a,{type:"submit",disabled:!this.state.post,variant:"outlined",className:e.button},"Create Post")))}}]),n}(a.Component),Ee=Object(de.a)({form:{width:"100%",margin:"0 auto",display:"flex",paddingTop:20},formControl:{margin:"0 auto",width:500},button:{width:200,margin:"10px 0"}})(ge),be=n(129),ve=n.n(be),ye=n(130),ke=n.n(ye),Ce=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).deletePost=function(e){fetch(" http://127.0.0.1:8000/posts/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){a.setState({posts:e})}))},a.updatePosts=function(e){a.setState({posts:e})},a.renderPosts=function(e){return e.map((function(e){return o.a.createElement(me,{post:e,deletePost:a.deletePost})}))},a.state={posts:[],loadingFeed:!0},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(" http://127.0.0.1:8000/posts/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("token"))},body:JSON.stringify()}).then((function(e){return e.json()})).then((function(t){e.setState({posts:t})})).finally((function(){return e.setState({loadingFeed:!1})}))}},{key:"render",value:function(){return o.a.createElement("div",{style:{padding:10}},o.a.createElement(Ee,{updatePosts:this.updatePosts}),o.a.createElement("div",{style:{maxWidth:"500px",margin:"0 auto",paddingTop:"20px"}},this.state.loadingFeed?o.a.createElement(j.a,{variant:"headline"},"Loading posts..."):this.state.posts.length?this.renderPosts(this.state.posts):o.a.createElement(j.a,{variant:"headline"},o.a.createElement(ve.a,{style:{position:"relative",top:"3px"},nativeColor:ke.a[500]}),"\xa0\xa0No Posts Yet.")))}}]),n}(a.Component);var je,Oe=o.a.createElement(l.c,{history:l.d},o.a.createElement(l.b,{path:"/",component:(je=B,function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={logged_in:!!localStorage.getItem("token")},a}return Object(u.a)(n,[{key:"componentWillMount",value:function(){this.checkAuth()}},{key:"componentWillReceiveProps",value:function(e){this.checkAuth()}},{key:"checkAuth",value:function(){if(!this.state.logged_in){var e=this.props.location.pathname;l.d.push("/login?next=".concat(e))}}},{key:"render",value:function(){return o.a.createElement("div",null,!0===this.state.logged_in?o.a.createElement(je,this.props):null)}}]),n}(o.a.Component))},o.a.createElement(l.a,{component:Ce})),o.a.createElement(l.b,{path:"login",component:g}));sessionStorage.getItem("token");i.a.render(o.a.createElement(o.a.StrictMode,null,Oe),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[144,1,2]]]);
//# sourceMappingURL=main.81288467.chunk.js.map